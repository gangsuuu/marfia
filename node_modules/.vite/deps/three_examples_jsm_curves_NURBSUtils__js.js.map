{
  "version": 3,
  "sources": ["../../three/examples/jsm/curves/NURBSUtils.js"],
  "sourcesContent": ["import {\r\n\tVector3,\r\n\tVector4\r\n} from 'three';\r\n\r\n/**\r\n * NURBS utils\r\n *\r\n * See NURBSCurve and NURBSSurface.\r\n **/\r\n\r\n\r\n/**************************************************************\r\n *\tNURBS Utils\r\n **************************************************************/\r\n\r\n/*\r\nFinds knot vector span.\r\n\r\np : degree\r\nu : parametric value\r\nU : knot vector\r\n\r\nreturns the span\r\n*/\r\nfunction findSpan( p, u, U ) {\r\n\r\n\tconst n = U.length - p - 1;\r\n\r\n\tif ( u >= U[ n ] ) {\r\n\r\n\t\treturn n - 1;\r\n\r\n\t}\r\n\r\n\tif ( u <= U[ p ] ) {\r\n\r\n\t\treturn p;\r\n\r\n\t}\r\n\r\n\tlet low = p;\r\n\tlet high = n;\r\n\tlet mid = Math.floor( ( low + high ) / 2 );\r\n\r\n\twhile ( u < U[ mid ] || u >= U[ mid + 1 ] ) {\r\n\r\n\t\tif ( u < U[ mid ] ) {\r\n\r\n\t\t\thigh = mid;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tlow = mid;\r\n\r\n\t\t}\r\n\r\n\t\tmid = Math.floor( ( low + high ) / 2 );\r\n\r\n\t}\r\n\r\n\treturn mid;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate basis functions. See The NURBS Book, page 70, algorithm A2.2\r\n\r\nspan : span in which u lies\r\nu    : parametric point\r\np    : degree\r\nU    : knot vector\r\n\r\nreturns array[p+1] with basis functions values.\r\n*/\r\nfunction calcBasisFunctions( span, u, p, U ) {\r\n\r\n\tconst N = [];\r\n\tconst left = [];\r\n\tconst right = [];\r\n\tN[ 0 ] = 1.0;\r\n\r\n\tfor ( let j = 1; j <= p; ++ j ) {\r\n\r\n\t\tleft[ j ] = u - U[ span + 1 - j ];\r\n\t\tright[ j ] = U[ span + j ] - u;\r\n\r\n\t\tlet saved = 0.0;\r\n\r\n\t\tfor ( let r = 0; r < j; ++ r ) {\r\n\r\n\t\t\tconst rv = right[ r + 1 ];\r\n\t\t\tconst lv = left[ j - r ];\r\n\t\t\tconst temp = N[ r ] / ( rv + lv );\r\n\t\t\tN[ r ] = saved + rv * temp;\r\n\t\t\tsaved = lv * temp;\r\n\r\n\t\t}\r\n\r\n\t\tN[ j ] = saved;\r\n\r\n\t}\r\n\r\n\treturn N;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\r\n\r\np : degree of B-Spline\r\nU : knot vector\r\nP : control points (x, y, z, w)\r\nu : parametric point\r\n\r\nreturns point for given u\r\n*/\r\nfunction calcBSplinePoint( p, U, P, u ) {\r\n\r\n\tconst span = findSpan( p, u, U );\r\n\tconst N = calcBasisFunctions( span, u, p, U );\r\n\tconst C = new Vector4( 0, 0, 0, 0 );\r\n\r\n\tfor ( let j = 0; j <= p; ++ j ) {\r\n\r\n\t\tconst point = P[ span - p + j ];\r\n\t\tconst Nj = N[ j ];\r\n\t\tconst wNj = point.w * Nj;\r\n\t\tC.x += point.x * wNj;\r\n\t\tC.y += point.y * wNj;\r\n\t\tC.z += point.z * wNj;\r\n\t\tC.w += point.w * Nj;\r\n\r\n\t}\r\n\r\n\treturn C;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\r\n\r\nspan : span in which u lies\r\nu    : parametric point\r\np    : degree\r\nn    : number of derivatives to calculate\r\nU    : knot vector\r\n\r\nreturns array[n+1][p+1] with basis functions derivatives\r\n*/\r\nfunction calcBasisFunctionDerivatives( span, u, p, n, U ) {\r\n\r\n\tconst zeroArr = [];\r\n\tfor ( let i = 0; i <= p; ++ i )\r\n\t\tzeroArr[ i ] = 0.0;\r\n\r\n\tconst ders = [];\r\n\r\n\tfor ( let i = 0; i <= n; ++ i )\r\n\t\tders[ i ] = zeroArr.slice( 0 );\r\n\r\n\tconst ndu = [];\r\n\r\n\tfor ( let i = 0; i <= p; ++ i )\r\n\t\tndu[ i ] = zeroArr.slice( 0 );\r\n\r\n\tndu[ 0 ][ 0 ] = 1.0;\r\n\r\n\tconst left = zeroArr.slice( 0 );\r\n\tconst right = zeroArr.slice( 0 );\r\n\r\n\tfor ( let j = 1; j <= p; ++ j ) {\r\n\r\n\t\tleft[ j ] = u - U[ span + 1 - j ];\r\n\t\tright[ j ] = U[ span + j ] - u;\r\n\r\n\t\tlet saved = 0.0;\r\n\r\n\t\tfor ( let r = 0; r < j; ++ r ) {\r\n\r\n\t\t\tconst rv = right[ r + 1 ];\r\n\t\t\tconst lv = left[ j - r ];\r\n\t\t\tndu[ j ][ r ] = rv + lv;\r\n\r\n\t\t\tconst temp = ndu[ r ][ j - 1 ] / ndu[ j ][ r ];\r\n\t\t\tndu[ r ][ j ] = saved + rv * temp;\r\n\t\t\tsaved = lv * temp;\r\n\r\n\t\t}\r\n\r\n\t\tndu[ j ][ j ] = saved;\r\n\r\n\t}\r\n\r\n\tfor ( let j = 0; j <= p; ++ j ) {\r\n\r\n\t\tders[ 0 ][ j ] = ndu[ j ][ p ];\r\n\r\n\t}\r\n\r\n\tfor ( let r = 0; r <= p; ++ r ) {\r\n\r\n\t\tlet s1 = 0;\r\n\t\tlet s2 = 1;\r\n\r\n\t\tconst a = [];\r\n\t\tfor ( let i = 0; i <= p; ++ i ) {\r\n\r\n\t\t\ta[ i ] = zeroArr.slice( 0 );\r\n\r\n\t\t}\r\n\r\n\t\ta[ 0 ][ 0 ] = 1.0;\r\n\r\n\t\tfor ( let k = 1; k <= n; ++ k ) {\r\n\r\n\t\t\tlet d = 0.0;\r\n\t\t\tconst rk = r - k;\r\n\t\t\tconst pk = p - k;\r\n\r\n\t\t\tif ( r >= k ) {\r\n\r\n\t\t\t\ta[ s2 ][ 0 ] = a[ s1 ][ 0 ] / ndu[ pk + 1 ][ rk ];\r\n\t\t\t\td = a[ s2 ][ 0 ] * ndu[ rk ][ pk ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconst j1 = ( rk >= - 1 ) ? 1 : - rk;\r\n\t\t\tconst j2 = ( r - 1 <= pk ) ? k - 1 : p - r;\r\n\r\n\t\t\tfor ( let j = j1; j <= j2; ++ j ) {\r\n\r\n\t\t\t\ta[ s2 ][ j ] = ( a[ s1 ][ j ] - a[ s1 ][ j - 1 ] ) / ndu[ pk + 1 ][ rk + j ];\r\n\t\t\t\td += a[ s2 ][ j ] * ndu[ rk + j ][ pk ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif ( r <= pk ) {\r\n\r\n\t\t\t\ta[ s2 ][ k ] = - a[ s1 ][ k - 1 ] / ndu[ pk + 1 ][ r ];\r\n\t\t\t\td += a[ s2 ][ k ] * ndu[ r ][ pk ];\r\n\r\n\t\t\t}\r\n\r\n\t\t\tders[ k ][ r ] = d;\r\n\r\n\t\t\tconst j = s1;\r\n\t\t\ts1 = s2;\r\n\t\t\ts2 = j;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tlet r = p;\r\n\r\n\tfor ( let k = 1; k <= n; ++ k ) {\r\n\r\n\t\tfor ( let j = 0; j <= p; ++ j ) {\r\n\r\n\t\t\tders[ k ][ j ] *= r;\r\n\r\n\t\t}\r\n\r\n\t\tr *= p - k;\r\n\r\n\t}\r\n\r\n\treturn ders;\r\n\r\n}\r\n\r\n\r\n/*\r\n\tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\r\n\r\n\tp  : degree\r\n\tU  : knot vector\r\n\tP  : control points\r\n\tu  : Parametric points\r\n\tnd : number of derivatives\r\n\r\n\treturns array[d+1] with derivatives\r\n\t*/\r\nfunction calcBSplineDerivatives( p, U, P, u, nd ) {\r\n\r\n\tconst du = nd < p ? nd : p;\r\n\tconst CK = [];\r\n\tconst span = findSpan( p, u, U );\r\n\tconst nders = calcBasisFunctionDerivatives( span, u, p, du, U );\r\n\tconst Pw = [];\r\n\r\n\tfor ( let i = 0; i < P.length; ++ i ) {\r\n\r\n\t\tconst point = P[ i ].clone();\r\n\t\tconst w = point.w;\r\n\r\n\t\tpoint.x *= w;\r\n\t\tpoint.y *= w;\r\n\t\tpoint.z *= w;\r\n\r\n\t\tPw[ i ] = point;\r\n\r\n\t}\r\n\r\n\tfor ( let k = 0; k <= du; ++ k ) {\r\n\r\n\t\tconst point = Pw[ span - p ].clone().multiplyScalar( nders[ k ][ 0 ] );\r\n\r\n\t\tfor ( let j = 1; j <= p; ++ j ) {\r\n\r\n\t\t\tpoint.add( Pw[ span - p + j ].clone().multiplyScalar( nders[ k ][ j ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tCK[ k ] = point;\r\n\r\n\t}\r\n\r\n\tfor ( let k = du + 1; k <= nd + 1; ++ k ) {\r\n\r\n\t\tCK[ k ] = new Vector4( 0, 0, 0 );\r\n\r\n\t}\r\n\r\n\treturn CK;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate \"K over I\"\r\n\r\nreturns k!/(i!(k-i)!)\r\n*/\r\nfunction calcKoverI( k, i ) {\r\n\r\n\tlet nom = 1;\r\n\r\n\tfor ( let j = 2; j <= k; ++ j ) {\r\n\r\n\t\tnom *= j;\r\n\r\n\t}\r\n\r\n\tlet denom = 1;\r\n\r\n\tfor ( let j = 2; j <= i; ++ j ) {\r\n\r\n\t\tdenom *= j;\r\n\r\n\t}\r\n\r\n\tfor ( let j = 2; j <= k - i; ++ j ) {\r\n\r\n\t\tdenom *= j;\r\n\r\n\t}\r\n\r\n\treturn nom / denom;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\r\n\r\nPders : result of function calcBSplineDerivatives\r\n\r\nreturns array with derivatives for rational curve.\r\n*/\r\nfunction calcRationalCurveDerivatives( Pders ) {\r\n\r\n\tconst nd = Pders.length;\r\n\tconst Aders = [];\r\n\tconst wders = [];\r\n\r\n\tfor ( let i = 0; i < nd; ++ i ) {\r\n\r\n\t\tconst point = Pders[ i ];\r\n\t\tAders[ i ] = new Vector3( point.x, point.y, point.z );\r\n\t\twders[ i ] = point.w;\r\n\r\n\t}\r\n\r\n\tconst CK = [];\r\n\r\n\tfor ( let k = 0; k < nd; ++ k ) {\r\n\r\n\t\tconst v = Aders[ k ].clone();\r\n\r\n\t\tfor ( let i = 1; i <= k; ++ i ) {\r\n\r\n\t\t\tv.sub( CK[ k - i ].clone().multiplyScalar( calcKoverI( k, i ) * wders[ i ] ) );\r\n\r\n\t\t}\r\n\r\n\t\tCK[ k ] = v.divideScalar( wders[ 0 ] );\r\n\r\n\t}\r\n\r\n\treturn CK;\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\r\n\r\np  : degree\r\nU  : knot vector\r\nP  : control points in homogeneous space\r\nu  : parametric points\r\nnd : number of derivatives\r\n\r\nreturns array with derivatives.\r\n*/\r\nfunction calcNURBSDerivatives( p, U, P, u, nd ) {\r\n\r\n\tconst Pders = calcBSplineDerivatives( p, U, P, u, nd );\r\n\treturn calcRationalCurveDerivatives( Pders );\r\n\r\n}\r\n\r\n\r\n/*\r\nCalculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\r\n\r\np1, p2 : degrees of B-Spline surface\r\nU1, U2 : knot vectors\r\nP      : control points (x, y, z, w)\r\nu, v   : parametric values\r\n\r\nreturns point for given (u, v)\r\n*/\r\nfunction calcSurfacePoint( p, q, U, V, P, u, v, target ) {\r\n\r\n\tconst uspan = findSpan( p, u, U );\r\n\tconst vspan = findSpan( q, v, V );\r\n\tconst Nu = calcBasisFunctions( uspan, u, p, U );\r\n\tconst Nv = calcBasisFunctions( vspan, v, q, V );\r\n\tconst temp = [];\r\n\r\n\tfor ( let l = 0; l <= q; ++ l ) {\r\n\r\n\t\ttemp[ l ] = new Vector4( 0, 0, 0, 0 );\r\n\t\tfor ( let k = 0; k <= p; ++ k ) {\r\n\r\n\t\t\tconst point = P[ uspan - p + k ][ vspan - q + l ].clone();\r\n\t\t\tconst w = point.w;\r\n\t\t\tpoint.x *= w;\r\n\t\t\tpoint.y *= w;\r\n\t\t\tpoint.z *= w;\r\n\t\t\ttemp[ l ].add( point.multiplyScalar( Nu[ k ] ) );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst Sw = new Vector4( 0, 0, 0, 0 );\r\n\tfor ( let l = 0; l <= q; ++ l ) {\r\n\r\n\t\tSw.add( temp[ l ].multiplyScalar( Nv[ l ] ) );\r\n\r\n\t}\r\n\r\n\tSw.divideScalar( Sw.w );\r\n\ttarget.set( Sw.x, Sw.y, Sw.z );\r\n\r\n}\r\n\r\n\r\n\r\nexport {\r\n\tfindSpan,\r\n\tcalcBasisFunctions,\r\n\tcalcBSplinePoint,\r\n\tcalcBasisFunctionDerivatives,\r\n\tcalcBSplineDerivatives,\r\n\tcalcKoverI,\r\n\tcalcRationalCurveDerivatives,\r\n\tcalcNURBSDerivatives,\r\n\tcalcSurfacePoint,\r\n};\r\n"],
  "mappings": "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",
  "names": ["r", "j"]
}
